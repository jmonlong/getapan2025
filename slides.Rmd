---
title: Snarls, pangenome deconstruction, and read mapping with vg giraffe
subtitle: GET-A-PAN
author: Xian Chang & Jean Monlong
date: 06/11/2025
output:
  revealjs::revealjs_presentation:
    theme: white
    transition: none
    highlight: pygments
    background_transition: slide
    center: false
    css: style.css
    incremental: false
    slide_level: 2
    reveal_options:
      slideNumber: true
      controls: true
      hash: true
      navigationMode: linear
---

# Pangenome graph from assemblies

Built by aligning high-quality genomes, saved as paths through the pangenome.

![](imgs/hprc-tubemap.jpeg){.half_wide_img .shadow_img}

Human Pangenome Reference Consortium (HPRC)

<div class="cite">
Liao, Asri, Ebler, et al. Nature 2023
</div>

# Pangenome

![](imgs/pangenome-cartoon-nopaths.svg)

## With haplotype paths

![](imgs/pangenome-cartoon.svg)

# Snarls, intuitively

# Snarls, formal definition

A snarl is a subgraph bounded by two nodes that are: 

(1) Separable: splitting the node into its two node sides separates a subgraph from the graph

![](imgs/snarls-1.jpeg){.half_wide_img .shadow_img}

# Snarls, formal definition

A snarl is a subgraph bounded by two nodes that are: 

(1) Separable: splitting the node into its two node sides separates a subgraph from the graph

![](imgs/snarls-2.jpeg){.half_wide_img .shadow_img}

## Snarls, formal definition

A snarl is a subgraph bounded by two nodes that are: 

(1) Separable: splitting the node into its two node sides separates a subgraph from the graph

(2) Minimal: there are no nodes within the snarl that are separable with the boundary nodes 

![](imgs/snarls-3.jpeg){.half_wide_img .shadow_img}

# Chains

A run of consecutive snarls and nodes is called a chain

# Snarl decomposition

Snarls and chains can be nested inside of each other.

. . .

The nested relationship of snarls and chains is described by the snarl tree.


# Snarl examples (`vg deconstruct`)


# Mapping reads with `vg giraffe`


<!-- Make two columns like in https://bookdown.org/yihui/rmarkdown-cookbook/multi-column.html -->


:::: {style="display: flex;"}

::: {}
Short reads
![](imgs/sr-giraffe-paper.jpeg){.half_wide_img .shadow_img}
:::

::: {}
Long reads
![](imgs/lr-giraffe-paper.jpeg){.half_wide_img .shadow_img}
:::

::::

# Long read giraffe algorithm

:::: {style="display: flex;"}

::: {}

1. Seeding with **Minimizer Index**

2. Zip code tree making with **Distance Index**

3. Chaining with **Zip Code Trees**

4. Alignment with **GBWT/graph**

:::

::: {}


![](imgs/alignment.jpeg){.half_wide_img .shadow_img}

:::

::::

# Conclusion


